## Linux 常用命令

### man --help man -h

帮助命令

### 常用系统工作命令

##### 1.echo 命令

```shell
# echo 命令用于在终端输出字符串或变量提取后的值
# 格式： echo [字符串|$变量 ]

# 输出
echo yanhaha.com

# 提取变量值
echo $SHELL
# /bin/bash
```

##### 2.date 命令

```shell
# date 命令用于显示及设置系统时间或日期
# 格式： date[选项][+指定的格式]

date
# Fri Dec 24 16:12:23 CST 2020

date "+%Y-%m-%d %H:%M:%S"
# 按照 年-月-日 小时：分钟：秒 的格式查看当前系统时间

date -s "20201127 17:00:00"
# 将系统的当前时间设置为2020年11月27日17点

date "+%j"
# 查看今天是当年中的第几天
```

##### 3.reboot 命令

```shell
# reboot命令用于重启系统，需要管理员权限
reboot
```

##### 4.poweroff 命令

```shell
# poweroff命令用于关闭系统，需要管理员权限
poweroff
```

##### 5.wge 命令

```shell
# wget命令用于在终端中下载网络文件
# 格式： wget[参数] 下载地址
```

| 参数 |              作用              |
| :--: | :----------------------------: |
|  -b  |          后台下载模式          |
|  -P  |         下载到指定目录         |
|  -t  |          最大尝试次数          |
|  -c  |            断点续传            |
|  -p  | 下载页面内所有资源，图片视频等 |
|  -r  |            递归下载            |

##### 6.ps 命令

```shell
# ps命令用于查看系统中的进程状态
# 格式： ps[参数]
```

| 参数 |                作用                |
| :--: | :--------------------------------: |
|  -a  | 显示所有进程（包括其他用户的进程） |
|  -u  |        用户以及其他详细信息        |
|  -x  |       显示没有控制终端的进程       |

Linux 系统中，有 5 中进程状态：分别为运行、中断、不可中断、僵死、停止。
<b>R（运行）：</b>进程正在运行或在运行队列中等待。
<b>S（中断）：</b>进程处于休眠中，当某个条件形成后或者接受信号时，则脱离该状态。
<b>D（不可中断）：</b>进程不响应系统异步信号，即使用 kill 命令也不能将其中断。
<b>Z（僵死）：</b>进程已经终止，但进程描述符依然存在，直到父进程调用 wait4()系统函数后将进程释放。
<b>T（停止）：</b>进程收到停止信号后停止运行。

##### 7.top 命令

```shell
# top命令用于动态监视进程活动与系统负载信息
# 格式： top
```

##### 8.pidof 命令

```shell
# pidof命令用于查询某个指定服务进程的PID值
# 格式： pidof[参数][服务名称]
pidof sshd
#2156
```

##### 9.kill 命令

```shell
# kill命令用于终止某个指定PID的服务进程
# 格式： kill[参数][进程PID]
kill 2156
# 强制停止sshd服务
```

##### 10.killall 命令

```shell
# killall命令用于终止某个指定名称的服务所对应的全部进程
# killall[参数][进程名称]
pidof httpd
# 13581 13580 13579 13578 13577 13576
killall httpd
pidof httpd
#
```

### 系统状态检测命令

##### 1.ifconfig 命令

```shell
# ifconfig 命令用于获取网卡配置与网络状态等信息
# 格式： ifconfig[网络设备][参数]
ifconfig
# 主要查看网卡名称、inet参数后面的IP地址、ether参数后面的网卡物理地址（MAC地址）以及RX、TX的接收数据包与发送数据包的个数及累计流量
```

##### 2. uname 命令

```shell
# uname命令用于查看系统内核与系统版本等信息
# 格式： uname[-a]
uname -a
# 使用 uname 命令时，一般固定搭配上-a参数来查看当前系统的内核名称、主机名、内核发行版本、节点名、系统时间、硬件名称、硬件平台、处理器类型以及操作系统名称等信息
```

##### 3. uptime 命令

```shell
# uptime用于查看系统的负载信息。
# 格式: uptime
uptime
# 16:49:55 up 10 min, 2 users, load average: 0.01,0.19,0.18
# uptime命令显示当前系统时间、系统已运行时间、启用终端数量以及平均负载值等信息
# load average 平均负载值指的是系统最近1、5/15分钟的压力情况
# 负载值越低越好，不要长期超过1，生产环境不要超过5
```

##### 4. free 命令

```shell
# free用于显示当前系统中内存的使用量信息
# 格式: free [-h]
free -h
```

##### 5. who 命令

```shell
# who命令用于查看当前登入主机的用户终端信息
# 格式: who[参数]
```

##### 6. last 命令

```shell
# last命令用于查看所有系统的登录记录
# 格式: last[参数]
# 不要单纯以该命令的输出信息而判断系统有无被恶意入侵
```

##### 7. history 命令

```shell
# history命令用于显示历史执行过的命令
# 格式: history[-c]
# 用于显示当前用户在本地计算机中执行过的最近1000条命令记录
```

##### 8. sosreport 命令

```shell
# sosreport命令用于手机系统配置以及架构信息并输出诊断文档
# 格式： sosreport
```

### 工作目录切换命令

##### 1. pwd 命令

```shell
# pwd命令用于显示用户当前所处的工作目录
# 格式： pwd [选项]
```

##### 2. cd 命令

```shell
# cd命令用于切换工作路径
# 格式： cd [目录名称]
cd -
# 返回上一次所处的目录
cd ..
# 进入上级目录
cd ~
# 切换当前用户的家目录
cd ~username
# 切换到其它用户的家目录
```

##### 3. ls 命令

```shell
# ls命令用于显示目录中的文件信息
# 格式： ls [选项][文件]

ls -a -l
# ls命令的-a参数看到全部文件
# ls命令的-l参数查看文件的属性、大小等详细信息
ls -ld
# 查看目录属性信息，需要额外添加一个-d参数
```

### 文本文件编辑命令

##### 1. cat 命令

```shell
# cat命令用于查看纯文本文件（内容较少的）
# 格式： cat[选项][文件]
# 查看文本内容时顺便显示行号，cat后追加一个 -n参数
```

##### 2. more 命令

```shell
# more命令用于查看纯文本文件（内容较多的）
# 格式： more [选项][文件]
```

##### 3. head 命令

```shell
# head命令用于查看纯文本文档的前N行
# 格式： head [选项][文件]
head -n 20  文件名
```

##### 4. tail 命令

```shell
# tail命令用于查看纯文本文档的后N行或持续刷新内容
# 格式： tail [选项][文件]
tail -n 20 文件名
# 实时查看最新日志文件时
tail -f 文件名
```

##### 5. tr 命令

```shell
# tr命令用于替换文本文件中的字符
# 格式： tr[原始字符][目标字符]
car 文件 | tr [a-z] [A-Z]
# 将一个文件中的小写字符替换成大写字符
```

##### 6. wc 命令

```shell
# wc命令用于统计指定文本的行数、子数、字节数
# 格式： wc [参数] 文本
```

| 参数 |     作用     |
| :--: | :----------: |
|  -l  |  只显示行数  |
|  -w  | 只显示单词数 |
|  -c  | 只显示字节数 |

##### 7. stat 命令

```shell
# stat命令用于查看文件的具体存储信息和时间等信息
# 格式： stat 文件名称
```

##### 8. cut 命令

```shell
# cut命令用于按“列”提取文本字符
# 格式： cut[参数] 文本
# 不仅要使用-f参数来设置需要看的列数
# 还需要使用-d参数来设置间隔符号
```

##### 9. diff 命令

```shell
# diff命令用于比较多个文本文件的差异
# 格式： diff[参数] 文件
# diff -brief命令用于显示比较后的结果
# diff -c 用来描述具体的不同
```

### 文件目录管理命令

##### 1. touch 命令

```shell
# touch命令用于创建空白文件或设置文件的时间
# touch [选项][文件]
```

| 参数 |          作用           |
| :--: | :---------------------: |
|  -a  |  仅修改读取时间(atime)  |
|  -m  |  仅修改修改时间(mtime)  |
|  -d  | 同时修改 atime 和 mtime |

ls 查看一个文件修改的时间，修改这个文件，通过 touch 命令把修改后的文件时间设置成修改之前的时间

##### 2. mkdir 命令

```shell
# mkdir命令用于创建空白的目录
# 格式： mkdir[选项] 目录
# 结合-p参数来递归创建具有嵌套叠层关系的文件目录
mkdir -p a/b/c/d/e
```

##### 3. cp 命令

```shell
# cp命令用于复制文件或目录
# 格式： cp[选项] 源文件 目标文件
```

##### 4. mv 命令

```shell
# mv命令用于剪切文件或者将文件重命名
# 格式： mv[选项] 源文件 [目标路径|目标文件名]
# 如果对同一个目录中对一个文件进行剪切操作，其实也就是对其重命名
mv x.log linux.log
```

##### 5. rm 命令

```shell
# rm命令用于删除文件或目录
# 格式： rm[选项] 文件
# 可在rm命令后跟上-f参数来强制删除
# 删除一个目录，需要在rm命令后加一个-r参数
```

##### 6. dd 命令

```shell
# dd命令用于按照指定大小和个数的数据块来复制文件或转换文件
# 格式： dd[参数]
```

##### 7. file 命令

```shell
# file命令用于查看文件的类型
# 格式： file文件名
```

### 打包压缩与搜索命令

##### 1. tar 命令

```shell
# tar命令用于对文件进行打包压缩或解压
# 格式： tar [选项][文件]
```

-c 用于创建压缩文件 -x 用于解压文件
-z 指定使用 Gzip 格式来压缩或解压文件
-j 指定使用 bzip2 格式来压缩或解压文件
-v 向用户不断显示压缩或解压的过程
-C 用于指定要解压到哪个指定的目录
-f 必须要放到参数最后一位，代表压缩或解压的软件包名称

##### 2. grep 命令

```shell
# grep用于在文本中执行关键词搜索，并显示匹配的结果
# 格式： grep [选项][文件]
```

##### 3. find 命令

```shell
# find命令用于按照指定条件来查找文件
# 格式： find [查找路径] 寻找条件 操作
```
